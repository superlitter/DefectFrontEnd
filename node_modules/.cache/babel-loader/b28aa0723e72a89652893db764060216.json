{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import Bug_Header from \"./Bugheader.vue\";\nimport store from \"../store\";\nimport axios from \"axios\";\nimport Test_Case_form from \"./TestCaseForm.vue\"; // import { load } from \"mime\";\n\nexport default {\n  name: \"TestCase\",\n  components: {\n    // Bug_Header,\n    Test_Case_form\n  },\n\n  data() {\n    return {\n      module_id: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 10,\n      // search: \"2020214584\",\n      DesigneeState: 0,\n      CreatorState: 0,\n      ClosedState: 0,\n      FinishedState: 0,\n      AllState: 0,\n      search: \"\",\n      Visiable: false,\n      nav_show: true,\n      whether_display: true,\n      Page_params: {\n        page: 1,\n        size: 10,\n        moduleId: 0,\n        search: null\n      },\n      Creator_params: {\n        page: 1,\n        size: 10,\n        moduleId: 0,\n        creatorId: \"2020214575\",\n        search: null\n      },\n      Closer_params: {\n        creatorId: \"2020214575\",\n        page: 1,\n        size: 10,\n        moduleId: 0,\n        status: \"已解决\",\n        search: null\n      },\n      Designee_params: {\n        designee: \"2020214575\",\n        page: 1,\n        moduleId: 0,\n        size: 10,\n        search: null\n      },\n      Finish__params: {\n        designee: \"2020214584\",\n        status: \"已解决\",\n        moduleId: 0,\n        page: 1,\n        size: 10,\n        search: null\n      },\n      Delete_params: {\n        bugName: \"\"\n      },\n      username: \"皇太极\",\n      moduleId: 10,\n      // 当前页码\n      // 总条数\n      // 每页的数据条数\n      Delete_dialogShow: false,\n      isRow: \"\",\n      options: [{\n        value: \"汪导\",\n        label: \"汪导\"\n      }, {\n        value: \"郑五十万\",\n        label: \"郑五十万\"\n      }, {\n        value: \"王百万\",\n        label: \"王百万\"\n      }, {\n        value: \"土木堡战神\",\n        label: \"土木堡战神\"\n      }, {\n        value: \"浩子\",\n        label: \"浩子\"\n      }, {\n        value: \"郑泽毅（五十万）\",\n        label: \"郑泽毅（五十万）\"\n      }],\n      selectValue: \"\",\n      Datas: []\n    };\n  },\n\n  mounted() {\n    this.All(1);\n  },\n\n  methods: {\n    Search() {\n      if (this.DesigneeState == 1) {\n        this.username_Designee();\n      }\n\n      if (this.CreatorState == 1) {\n        this.username_Creator();\n      }\n\n      if (this.ClosedState == 1) {\n        this.username_Closer();\n      }\n\n      if (this.FinishedState == 1) {\n        this.username_solver();\n      }\n\n      if (this.AllState == 1) {\n        this.All();\n      }\n    },\n\n    handleClick(Data) {\n      this.Visiable = true; // this.$parent.whether_display = false;\n\n      this.whether_display = false;\n      this.$nextTick(() => {\n        this.$refs.dialog.init(Data);\n      });\n    },\n\n    ClosetheForm(Data) {\n      this.Visiable = false;\n      this.$parent.whether_display = true;\n      this.whether_display = true;\n      this.$nextTick(() => {\n        this.$refs.dialog.init(Data);\n      });\n    },\n\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.currentPage = val;\n\n      if (this.DesigneeState == 1) {\n        this.username_Designee(this.currentPage);\n      }\n\n      if (this.CreatorState == 1) {\n        this.username_Creator(this.currentPage);\n      }\n\n      if (this.ClosedState == 1) {\n        this.username_Closer(this.currentPage);\n      }\n\n      if (this.FinishedState == 1) {\n        this.username_solver(this.currentPage);\n      }\n\n      if (this.AllState == 1) {\n        this.All(this.currentPage);\n      }\n    },\n\n    username_Closer(num1 = 1) {\n      console.log(\"第一层调用\");\n      this.DesigneeState = 0;\n      this.CreatorState = 0;\n      this.ClosedState = 1;\n      this.FinishedState = 0;\n      this.AllState = 0;\n      this.Closer_params.search = this.search;\n      this.Closer_params.page = num1;\n      this.moduleId = store.state.moduleId;\n      this.Closer_params.moduleId = this.moduleId;\n      this.postRequest(\"/bugs/findByCloser\", this.Closer_params) //补上后台接口即可\n      .then(response => {\n        // 请求成功\n        console.log(\"请求成功\");\n        console.log(response.data);\n        this.Datas = response.data.records;\n        this.currentPage = response.data.page;\n        this.pageSize = response.data.pageSize;\n        this.total = response.data.total;\n        console.log(this.Datas.list.length);\n        console.log(\"IN Closer\");\n        console.log(this.moduleId);\n      }).catch(error => {\n        // 请求失败\n        console.log(\"请求失败\");\n        console.log(error);\n      }); // return data.Closer.indexOf(this.username) > -1;\n    },\n\n    username_solver(num1 = 1) {\n      console.log(\"第一层调用\");\n      this.DesigneeState = 0;\n      this.CreatorState = 0;\n      this.ClosedState = 0;\n      this.FinishedState = 1;\n      this.AllState = 0;\n      this.Finish__params.search = this.search;\n      this.Finish__params.page = num1;\n      this.moduleId = store.state.moduleId;\n      this.Finish__params.moduleId = this.moduleId;\n      this.postRequest(\"/bugs/findByFinish\", this.Finish__params) //补上后台接口即可\n      .then(response => {\n        // 请求成功\n        console.log(\"请求成功\");\n        console.log(response.data);\n        this.Datas = response.data.records;\n        this.currentPage = response.data.page;\n        this.pageSize = response.data.pageSize;\n        this.total = response.data.total;\n        console.log(this.Datas.list.length);\n        console.log(\"IN solver\");\n        console.log(this.moduleId);\n      }).catch(error => {\n        // 请求失败\n        console.log(\"请求失败\");\n        console.log(error);\n      }); // this.Datas = this.Datas.filter((data) => {\n      //   return data.solver.indexOf(this.username) > -1;\n      // });\n    },\n\n    username_Designee(num1 = 1) {\n      console.log(\"第一层调用\");\n      this.DesigneeState = 1;\n      this.CreatorState = 0;\n      this.ClosedState = 0;\n      this.FinishedState = 0;\n      this.AllState = 0;\n      this.Designee_params.search = this.search;\n      this.Designee_params.page = num1;\n      this.moduleId = store.state.moduleId;\n      this.Designee_params.moduleId = this.moduleId;\n      this.postRequest(\"/bugs/findByAssignee\", this.Designee_params) //补上后台接口即可\n      .then(response => {\n        // 请求成功\n        console.log(\"请求成功\");\n        console.log(response.data);\n        this.Datas = response.data.records;\n        this.currentPage = response.data.page;\n        this.pageSize = response.data.pageSize;\n        this.total = response.data.total;\n        console.log(this.Datas.list.length);\n        console.log(\"IN Designee\");\n        console.log(this.moduleId);\n      }).catch(error => {\n        // 请求失败\n        console.log(\"请求失败\");\n        console.log(error);\n      }); // this.Datas = this.Datas.filter((data) => {\n      //   return data.Designee.indexOf(this.username) > -1;\n      // });\n    },\n\n    All(num1 = 1) {\n      this.moduleId = store.state.moduleId;\n      this.DesigneeState = 0;\n      this.CreatorState = 0;\n      this.ClosedState = 0;\n      this.FinishedState = 0;\n      this.AllState = 1;\n      console.log(\"第一层调用\");\n      this.Page_params.page = num1;\n      this.Page_params.search = this.search;\n      this.Page_params.moduleId = this.moduleId;\n      console.log(\"IN ALL\");\n      console.log(this.moduleId);\n      this.postRequest(\"/bugs/dataAll\", this.Page_params) //补上后台接口即可\n      .then(response => {\n        // 请求成功\n        console.log(\"请求成功\");\n        console.log(response.data);\n        this.Datas = response.data.records;\n        this.currentPage = response.data.page;\n        this.pageSize = response.data.pageSize;\n        this.total = response.data.total;\n        console.log(this.Datas.list.length);\n      }).catch(error => {\n        // 请求失败\n        console.log(\"请求失败\");\n        console.log(error);\n      });\n    },\n\n    username_Creator(num1 = 1) {\n      this.moduleId = store.state.moduleId;\n      console.log(\"第一层调用\");\n      this.DesigneeState = 0;\n      this.CreatorState = 1;\n      this.ClosedState = 0;\n      this.FinishedState = 0;\n      this.AllState = 0;\n      this.Creator_params.search = this.search;\n      this.Creator_params.page = num1;\n      this.Creator_params.moduleId = this.moduleId;\n      this.postRequest(\"/bugs/findByCreator\", this.Creator_params) //补上后台接口即可\n      .then(response => {\n        // 请求成功\n        console.log(\"请求成功\");\n        console.log(response.data);\n        this.Datas = response.data.records;\n        this.currentPage = response.data.page;\n        this.pageSize = response.data.pageSize;\n        this.total = response.data.total;\n        console.log(this.Datas.list.length);\n      }).catch(error => {\n        // 请求失败\n        console.log(\"请求失败\");\n        console.log(error);\n      }); // this.Datas = this.Datas_Copy;\n      // this.Datas = this.Datas.filter((data) => {\n      //   return data.creator.indexOf(this.username) > -1;\n      // });\n    },\n\n    affirm(row, $index) {\n      // console.log($index);\n      this.Visiable = true;\n      this.whether_display = false;\n      console.log(row.title);\n      this.postRequest(\"/bugs/bugsdetail\", {\n        bugName: row.title\n      }) //补上后台接口即可\n      .then(response => {\n        // 请求成功\n        console.log(response.data.bugDescription);\n        store.commit(\"editbugDescription\", response.data.bugDescription);\n      }).catch(error => {\n        // 请求失败\n        console.log(\"请求失败\");\n        console.log(error);\n      });\n    },\n\n    //初始化数据\n    receive(ModuleId) {\n      console.log(\"ID:\", this.moduleId);\n      this.moduleId = parseInt(ModuleId);\n      console.log(this);\n      console.log(\"ID:\", this.moduleId);\n    }\n\n  },\n  computed: {\n    tableData() {\n      const input = this.$store.state.value; // console.log(input);\n\n      if (input) {\n        return this.Datas.filter(data => {\n          return Object.keys(data).some(key => {\n            return String(data[key]).toLowerCase().indexOf(input) > -1;\n          });\n        });\n      }\n\n      return this.Datas;\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACA;AACA;AACA,gD,CACA;;AAEA;EACAA,gBADA;EAEAC;IACA;IACAC;EAFA,CAFA;;EAMAC;IACA;MACAC,aADA;MAGAC,cAHA;MAIAC,YAJA;MAKAC,SALA;MAMA;MAEAC,gBARA;MASAC,eATA;MAUAC,cAVA;MAWAC,gBAXA;MAYAC,WAZA;MAcAC,UAdA;MAeAC,eAfA;MAgBAC,cAhBA;MAiBAC,qBAjBA;MAkBAC;QACAC,OADA;QAEAC,QAFA;QAGAC,WAHA;QAIAP;MAJA,CAlBA;MAwBAQ;QACAH,OADA;QAEAC,QAFA;QAGAC,WAHA;QAIAE,uBAJA;QAKAT;MALA,CAxBA;MA+BAU;QACAD,uBADA;QAEAJ,OAFA;QAGAC,QAHA;QAIAC,WAJA;QAKAI,aALA;QAMAX;MANA,CA/BA;MAuCAY;QACAC,sBADA;QAEAR,OAFA;QAGAE,WAHA;QAIAD,QAJA;QAKAN;MALA,CAvCA;MA8CAc;QACAD,sBADA;QAEAF,aAFA;QAGAJ,WAHA;QAIAF,OAJA;QAKAC,QALA;QAMAN;MANA,CA9CA;MAsDAe;QACAC;MADA,CAtDA;MAyDAC,eAzDA;MA0DAV,YA1DA;MA2DA;MACA;MACA;MAEAW,wBA/DA;MAgEAC,SAhEA;MAiEAC,UACA;QACAC,WADA;QAEAC;MAFA,CADA,EAKA;QACAD,aADA;QAEAC;MAFA,CALA,EASA;QACAD,YADA;QAEAC;MAFA,CATA,EAaA;QACAD,cADA;QAEAC;MAFA,CAbA,EAiBA;QACAD,WADA;QAEAC;MAFA,CAjBA,EAqBA;QACAD,iBADA;QAEAC;MAFA,CArBA,CAjEA;MA2FAC,eA3FA;MA4FAC;IA5FA;EA8FA,CArGA;;EAsGAC;IACA;EACA,CAxGA;;EA0GAC;IACAC;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;IACA,CAjBA;;IAkBAC;MACA,qBADA,CAEA;;MACA;MACA;QACA;MACA,CAFA;IAGA,CAzBA;;IA0BAC;MACA;MACA;MACA;MACA;QACA;MACA,CAFA;IAGA,CAjCA;;IAkCAC;MACAC;MACA;;MAEA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;IACA,CArDA;;IAsDAC;MACAD;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MAEA;MAAA,CACAE,IADA,CACAC;QACA;QACAH;QACAA;QACA;QACA;QACA;QACA;QACAA;QAEAA;QACAA;MACA,CAbA,EAcAI,KAdA,CAcAC;QACA;QACAL;QACAA;MACA,CAlBA,EAdA,CAkCA;IACA,CAzFA;;IA0FAM;MACAN;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MAEA;MAAA,CACAE,IADA,CACAC;QACA;QACAH;QACAA;QACA;QACA;QACA;QACA;QACAA;QAEAA;QACAA;MACA,CAbA,EAcAI,KAdA,CAcAC;QACA;QACAL;QACAA;MACA,CAlBA,EAdA,CAkCA;MACA;MACA;IACA,CA/HA;;IAgIAO;MACAP;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MAAA,CACAE,IADA,CACAC;QACA;QACAH;QACAA;QACA;QACA;QACA;QACA;QACAA;QACAA;QACAA;MACA,CAZA,EAaAI,KAbA,CAaAC;QACA;QACAL;QACAA;MACA,CAjBA,EAZA,CA8BA;MACA;MACA;IACA,CAjKA;;IAkKAQ;MACA;MAEA;MACA;MACA;MACA;MACA;MAEAR;MACA;MACA;MAEA;MACAA;MACAA;MAEA;MAAA,CACAE,IADA,CACAC;QACA;QACAH;QACAA;QACA;QACA;QACA;QACA;QACAA;MACA,CAVA,EAWAI,KAXA,CAWAC;QACA;QACAL;QACAA;MACA,CAfA;IAgBA,CAnMA;;IAoMAS;MACA;MACAT;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MAEA;MAAA,CACAE,IADA,CACAC;QACA;QACAH;QACAA;QACA;QACA;QACA;QACA;QAEAA;MACA,CAXA,EAYAI,KAZA,CAYAC;QACA;QACAL;QACAA;MACA,CAhBA,EAdA,CAgCA;MACA;MACA;MACA;IACA,CAxOA;;IA0OAU;MACA;MACA;MAEA;MACAV;MAEA;QAAAf;MAAA;MAAA,CACAiB,IADA,CACAC;QACA;QACAH;QACAW;MACA,CALA,EAMAP,KANA,CAMAC;QACA;QACAL;QACAA;MACA,CAVA;IAWA,CA5PA;;IA8PA;IACAY;MACAZ;MACA;MACAA;MACAA;IACA;;EApQA,CA1GA;EAgXAa;IACAC;MACA,sCADA,CAEA;;MACA;QACA;UACA;YACA;UACA,CAFA;QAGA,CAJA;MAKA;;MACA;IACA;;EAZA;AAhXA","names":["name","components","Test_Case_form","data","module_id","currentPage","pageSize","total","DesigneeState","CreatorState","ClosedState","FinishedState","AllState","search","Visiable","nav_show","whether_display","Page_params","page","size","moduleId","Creator_params","creatorId","Closer_params","status","Designee_params","designee","Finish__params","Delete_params","bugName","username","Delete_dialogShow","isRow","options","value","label","selectValue","Datas","mounted","methods","Search","handleClick","ClosetheForm","handleCurrentChange","console","username_Closer","then","response","catch","error","username_solver","username_Designee","All","username_Creator","affirm","store","receive","computed","tableData"],"sourceRoot":"src/components","sources":["TestCase.vue"],"sourcesContent":["<template>\r\n  <div class=\"content\" id=\"Content\">\r\n    <div class=\"Top\" v-if=\"whether_display\">\r\n      <div class=\"shang\">\r\n        <!-- <Home v-if=\"nav_show\"></Home> -->\r\n        <div class=\"Inner\">\r\n          <header style=\"font-size: 40px\">测试用例</header>\r\n          <!-- <el-button\r\n            type=\"primary\"\r\n            @click=\"handleClick\"\r\n            style=\"margin-left: 80%\"\r\n            >提交BUG</el-button\r\n          > -->\r\n\r\n          <!-- <el-button type=\"primary\" @click=\"JumpTo\">回到登录</el-button> -->\r\n          <!-- <router-link to=\"/login\">首页</router-link> -->\r\n\r\n          <ul>\r\n            <el-button size=\"medium\" round @click=\"username_Designee()\"\r\n            >指派给我</el-button\r\n            >\r\n            <el-button size=\"medium\" round @click=\"username_Creator()\"\r\n            >我创建的</el-button\r\n            >\r\n            <el-button size=\"medium\" round @click=\"username_Closer()\"\r\n            >我关闭的</el-button\r\n            >\r\n            <el-button size=\"medium\" round @click=\"username_solver()\"\r\n            >我完成的</el-button\r\n            >\r\n            <el-button size=\"medium\" round @click=\"All()\">全部</el-button>\r\n            <el-input\r\n                size=\" mini\"\r\n                v-model=\"search\"\r\n                placeholder=\"搜索Bug名称\"\r\n                style=\"width: 500px\"\r\n            ></el-input>\r\n            <el-button size=\"medium\" round @click=\"Search()\">搜索</el-button>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <bug_form v-if=\"Visiable\" ref=\"dialog\"></bug_form> -->\r\n    <Test_Case_form v-if=\"Visiable\"></Test_Case_form>\r\n    <ul>\r\n      <el-table\r\n          :data=\"tableData\"\r\n          style=\"width: 1500px; margin-top: 0%\"\r\n          v-if=\"whether_display\"\r\n      >\r\n        <el-table-column prop=\"title\" label=\"Bug标题\" width=\"300px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.title\" v-if=\"scope.row.seen\">\r\n            </el-input>\r\n            <span style=\"margin-left: 10px\" v-else>{{ scope.row.title }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"priority\" label=\"优先级\" width=\"200px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.priority\" v-if=\"scope.row.seen\">\r\n            </el-input>\r\n            <span style=\"margin-left: 10px\" v-else>{{\r\n                scope.row.priority\r\n              }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"200px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.status\" v-if=\"scope.row.seen\">\r\n            </el-input>\r\n            <span style=\"margin-left: 10px\" v-else>{{ scope.row.status }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"creator\" label=\"创建者\" width=\"200px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.creator\" v-if=\"scope.row.seen\">\r\n            </el-input>\r\n            <span style=\"margin-left: 10px\" v-else>{{\r\n                scope.row.creator\r\n              }}</span>\r\n          </template></el-table-column\r\n        >\r\n        <el-table-column prop=\"startdate\" label=\"创建日期\" width=\"280px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.startdate\" v-if=\"scope.row.seen\">\r\n            </el-input>\r\n            <span style=\"margin-left: 10px\" v-else>{{\r\n                scope.row.startdate\r\n              }}</span>\r\n          </template></el-table-column\r\n        >\r\n        <el-table-column prop=\"enddate\" label=\"结束日期\" width=\"280px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-input v-model=\"scope.row.enddate\" v-if=\"scope.row.seen\">\r\n            </el-input>\r\n            <span style=\"margin-left: 10px\" v-else>{{\r\n                scope.row.enddate\r\n              }}</span>\r\n          </template></el-table-column\r\n        >\r\n        <el-table-column prop=\"designee\" label=\"被指派者\" width=\"280px\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- <el-input v-model=\"scope.row.Designee\" v-if=\"scope.row.seen\">\r\n            </el-input> -->\r\n            <span style=\"margin-left: 10px\">{{ scope.row.designee }}</span>\r\n          </template></el-table-column\r\n        >\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"50px\" prop=\"compile\">\r\n          <template slot-scope=\"{ row, $index }\">\r\n            <el-button\r\n                @click=\"affirm(row, $index)\"\r\n                type=\"text\"\r\n                size=\"huge\"\r\n                icon=\"el-icon-video-play\"\r\n                style=\"font-size: 150%\"\r\n            ></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- <el-button type=\"primary\" size=\"medium\" style=\"margin-top: -33%\"\r\n        >编辑</el-button\r\n      > -->\r\n      <div class=\"block\" v-if=\"whether_display\">\r\n        <el-pagination\r\n            @current-change.sync=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-size=\"pageSize\"\r\n            layout=\"total, prev, pager, next, jumper\"\r\n            :total=\"total\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import Bug_Header from \"./Bugheader.vue\";\r\nimport store from \"../store\";\r\nimport axios from \"axios\";\r\nimport Test_Case_form from \"./TestCaseForm.vue\";\r\n// import { load } from \"mime\";\r\n\r\nexport default {\r\n  name: \"TestCase\",\r\n  components: {\r\n    // Bug_Header,\r\n    Test_Case_form,\r\n  },\r\n  data() {\r\n    return {\r\n      module_id: [],\r\n\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 10,\r\n      // search: \"2020214584\",\r\n\r\n      DesigneeState: 0,\r\n      CreatorState: 0,\r\n      ClosedState: 0,\r\n      FinishedState: 0,\r\n      AllState: 0,\r\n\r\n      search: \"\",\r\n      Visiable: false,\r\n      nav_show: true,\r\n      whether_display: true,\r\n      Page_params: {\r\n        page: 1,\r\n        size: 10,\r\n        moduleId: 0,\r\n        search: null,\r\n      },\r\n      Creator_params: {\r\n        page: 1,\r\n        size: 10,\r\n        moduleId: 0,\r\n        creatorId: \"2020214575\",\r\n        search: null,\r\n      },\r\n      Closer_params: {\r\n        creatorId: \"2020214575\",\r\n        page: 1,\r\n        size: 10,\r\n        moduleId: 0,\r\n        status: \"已解决\",\r\n        search: null,\r\n      },\r\n      Designee_params: {\r\n        designee: \"2020214575\",\r\n        page: 1,\r\n        moduleId: 0,\r\n        size: 10,\r\n        search: null,\r\n      },\r\n      Finish__params: {\r\n        designee: \"2020214584\",\r\n        status: \"已解决\",\r\n        moduleId: 0,\r\n        page: 1,\r\n        size: 10,\r\n        search: null,\r\n      },\r\n      Delete_params: {\r\n        bugName: \"\",\r\n      },\r\n      username: \"皇太极\",\r\n      moduleId: 10,\r\n      // 当前页码\r\n      // 总条数\r\n      // 每页的数据条数\r\n\r\n      Delete_dialogShow: false,\r\n      isRow: \"\",\r\n      options: [\r\n        {\r\n          value: \"汪导\",\r\n          label: \"汪导\",\r\n        },\r\n        {\r\n          value: \"郑五十万\",\r\n          label: \"郑五十万\",\r\n        },\r\n        {\r\n          value: \"王百万\",\r\n          label: \"王百万\",\r\n        },\r\n        {\r\n          value: \"土木堡战神\",\r\n          label: \"土木堡战神\",\r\n        },\r\n        {\r\n          value: \"浩子\",\r\n          label: \"浩子\",\r\n        },\r\n        {\r\n          value: \"郑泽毅（五十万）\",\r\n          label: \"郑泽毅（五十万）\",\r\n        },\r\n      ],\r\n      selectValue: \"\",\r\n      Datas: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.All(1);\r\n  },\r\n\r\n  methods: {\r\n    Search() {\r\n      if (this.DesigneeState == 1) {\r\n        this.username_Designee();\r\n      }\r\n      if (this.CreatorState == 1) {\r\n        this.username_Creator();\r\n      }\r\n      if (this.ClosedState == 1) {\r\n        this.username_Closer();\r\n      }\r\n      if (this.FinishedState == 1) {\r\n        this.username_solver();\r\n      }\r\n      if (this.AllState == 1) {\r\n        this.All();\r\n      }\r\n    },\r\n    handleClick(Data) {\r\n      this.Visiable = true;\r\n      // this.$parent.whether_display = false;\r\n      this.whether_display = false;\r\n      this.$nextTick(() => {\r\n        this.$refs.dialog.init(Data);\r\n      });\r\n    },\r\n    ClosetheForm(Data) {\r\n      this.Visiable = false;\r\n      this.$parent.whether_display = true;\r\n      this.whether_display = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.dialog.init(Data);\r\n      });\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.currentPage = val;\r\n\r\n      if (this.DesigneeState == 1) {\r\n        this.username_Designee(this.currentPage);\r\n      }\r\n      if (this.CreatorState == 1) {\r\n        this.username_Creator(this.currentPage);\r\n      }\r\n      if (this.ClosedState == 1) {\r\n        this.username_Closer(this.currentPage);\r\n      }\r\n      if (this.FinishedState == 1) {\r\n        this.username_solver(this.currentPage);\r\n      }\r\n      if (this.AllState == 1) {\r\n        this.All(this.currentPage);\r\n      }\r\n    },\r\n    username_Closer(num1 = 1) {\r\n      console.log(\"第一层调用\");\r\n\r\n      this.DesigneeState = 0;\r\n      this.CreatorState = 0;\r\n      this.ClosedState = 1;\r\n      this.FinishedState = 0;\r\n      this.AllState = 0;\r\n\r\n      this.Closer_params.search = this.search;\r\n      this.Closer_params.page = num1;\r\n      this.moduleId = store.state.moduleId;\r\n      this.Closer_params.moduleId = this.moduleId;\r\n\r\n      this.postRequest(\"/bugs/findByCloser\", this.Closer_params) //补上后台接口即可\r\n          .then((response) => {\r\n            // 请求成功\r\n            console.log(\"请求成功\");\r\n            console.log(response.data);\r\n            this.Datas = response.data.records;\r\n            this.currentPage = response.data.page;\r\n            this.pageSize = response.data.pageSize;\r\n            this.total = response.data.total;\r\n            console.log(this.Datas.list.length);\r\n\r\n            console.log(\"IN Closer\");\r\n            console.log(this.moduleId);\r\n          })\r\n          .catch((error) => {\r\n            // 请求失败\r\n            console.log(\"请求失败\");\r\n            console.log(error);\r\n          });\r\n\r\n      // return data.Closer.indexOf(this.username) > -1;\r\n    },\r\n    username_solver(num1 = 1) {\r\n      console.log(\"第一层调用\");\r\n\r\n      this.DesigneeState = 0;\r\n      this.CreatorState = 0;\r\n      this.ClosedState = 0;\r\n      this.FinishedState = 1;\r\n      this.AllState = 0;\r\n\r\n      this.Finish__params.search = this.search;\r\n      this.Finish__params.page = num1;\r\n      this.moduleId = store.state.moduleId;\r\n      this.Finish__params.moduleId = this.moduleId;\r\n\r\n      this.postRequest(\"/bugs/findByFinish\", this.Finish__params) //补上后台接口即可\r\n          .then((response) => {\r\n            // 请求成功\r\n            console.log(\"请求成功\");\r\n            console.log(response.data);\r\n            this.Datas = response.data.records;\r\n            this.currentPage = response.data.page;\r\n            this.pageSize = response.data.pageSize;\r\n            this.total = response.data.total;\r\n            console.log(this.Datas.list.length);\r\n\r\n            console.log(\"IN solver\");\r\n            console.log(this.moduleId);\r\n          })\r\n          .catch((error) => {\r\n            // 请求失败\r\n            console.log(\"请求失败\");\r\n            console.log(error);\r\n          });\r\n\r\n      // this.Datas = this.Datas.filter((data) => {\r\n      //   return data.solver.indexOf(this.username) > -1;\r\n      // });\r\n    },\r\n    username_Designee(num1 = 1) {\r\n      console.log(\"第一层调用\");\r\n      this.DesigneeState = 1;\r\n      this.CreatorState = 0;\r\n      this.ClosedState = 0;\r\n      this.FinishedState = 0;\r\n      this.AllState = 0;\r\n      this.Designee_params.search = this.search;\r\n      this.Designee_params.page = num1;\r\n      this.moduleId = store.state.moduleId;\r\n      this.Designee_params.moduleId = this.moduleId;\r\n\r\n      this.postRequest(\"/bugs/findByAssignee\", this.Designee_params) //补上后台接口即可\r\n          .then((response) => {\r\n            // 请求成功\r\n            console.log(\"请求成功\");\r\n            console.log(response.data);\r\n            this.Datas = response.data.records;\r\n            this.currentPage = response.data.page;\r\n            this.pageSize = response.data.pageSize;\r\n            this.total = response.data.total;\r\n            console.log(this.Datas.list.length);\r\n            console.log(\"IN Designee\");\r\n            console.log(this.moduleId);\r\n          })\r\n          .catch((error) => {\r\n            // 请求失败\r\n            console.log(\"请求失败\");\r\n            console.log(error);\r\n          });\r\n      // this.Datas = this.Datas.filter((data) => {\r\n      //   return data.Designee.indexOf(this.username) > -1;\r\n      // });\r\n    },\r\n    All(num1 = 1) {\r\n      this.moduleId = store.state.moduleId;\r\n\r\n      this.DesigneeState = 0;\r\n      this.CreatorState = 0;\r\n      this.ClosedState = 0;\r\n      this.FinishedState = 0;\r\n      this.AllState = 1;\r\n\r\n      console.log(\"第一层调用\");\r\n      this.Page_params.page = num1;\r\n      this.Page_params.search = this.search;\r\n\r\n      this.Page_params.moduleId = this.moduleId;\r\n      console.log(\"IN ALL\");\r\n      console.log(this.moduleId);\r\n\r\n      this.postRequest(\"/bugs/dataAll\", this.Page_params) //补上后台接口即可\r\n          .then((response) => {\r\n            // 请求成功\r\n            console.log(\"请求成功\");\r\n            console.log(response.data);\r\n            this.Datas = response.data.records;\r\n            this.currentPage = response.data.page;\r\n            this.pageSize = response.data.pageSize;\r\n            this.total = response.data.total;\r\n            console.log(this.Datas.list.length);\r\n          })\r\n          .catch((error) => {\r\n            // 请求失败\r\n            console.log(\"请求失败\");\r\n            console.log(error);\r\n          });\r\n    },\r\n    username_Creator(num1 = 1) {\r\n      this.moduleId = store.state.moduleId;\r\n      console.log(\"第一层调用\");\r\n\r\n      this.DesigneeState = 0;\r\n      this.CreatorState = 1;\r\n      this.ClosedState = 0;\r\n      this.FinishedState = 0;\r\n      this.AllState = 0;\r\n\r\n      this.Creator_params.search = this.search;\r\n      this.Creator_params.page = num1;\r\n      this.Creator_params.moduleId = this.moduleId;\r\n\r\n      this.postRequest(\"/bugs/findByCreator\", this.Creator_params) //补上后台接口即可\r\n          .then((response) => {\r\n            // 请求成功\r\n            console.log(\"请求成功\");\r\n            console.log(response.data);\r\n            this.Datas = response.data.records;\r\n            this.currentPage = response.data.page;\r\n            this.pageSize = response.data.pageSize;\r\n            this.total = response.data.total;\r\n\r\n            console.log(this.Datas.list.length);\r\n          })\r\n          .catch((error) => {\r\n            // 请求失败\r\n            console.log(\"请求失败\");\r\n            console.log(error);\r\n          });\r\n\r\n      // this.Datas = this.Datas_Copy;\r\n      // this.Datas = this.Datas.filter((data) => {\r\n      //   return data.creator.indexOf(this.username) > -1;\r\n      // });\r\n    },\r\n\r\n    affirm(row, $index) {\r\n      // console.log($index);\r\n      this.Visiable = true;\r\n\r\n      this.whether_display = false;\r\n      console.log(row.title);\r\n\r\n      this.postRequest(\"/bugs/bugsdetail\", { bugName: row.title }) //补上后台接口即可\r\n          .then((response) => {\r\n            // 请求成功\r\n            console.log(response.data.bugDescription);\r\n            store.commit(\"editbugDescription\", response.data.bugDescription);\r\n          })\r\n          .catch((error) => {\r\n            // 请求失败\r\n            console.log(\"请求失败\");\r\n            console.log(error);\r\n          });\r\n    },\r\n\r\n    //初始化数据\r\n    receive(ModuleId) {\r\n      console.log(\"ID:\", this.moduleId);\r\n      this.moduleId = parseInt(ModuleId);\r\n      console.log(this);\r\n      console.log(\"ID:\", this.moduleId);\r\n    },\r\n  },\r\n  computed: {\r\n    tableData() {\r\n      const input = this.$store.state.value;\r\n      // console.log(input);\r\n      if (input) {\r\n        return this.Datas.filter((data) => {\r\n          return Object.keys(data).some((key) => {\r\n            return String(data[key]).toLowerCase().indexOf(input) > -1;\r\n          });\r\n        });\r\n      }\r\n      return this.Datas;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.content {\r\n  /* position: absolute; */\r\n  /* top: 0%;\r\n  left: -10%; */\r\n\r\n  height: 800px;\r\n  /*display: flexbox;*/\r\n  flex-direction: column;\r\n}\r\n\r\n.Content_ul {\r\n  margin-top: -26%;\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  /* justify-content: space-evenly; */\r\n  align-items: center;\r\n}\r\n\r\nli {\r\n  list-style: none;\r\n}\r\n\r\n.Top {\r\n  /*background-color: #e8edf7;*/\r\n  /*display: flex;*/\r\n  flex-direction: column;\r\n  margin-left: 0%;\r\n  margin-top: 0%;\r\n}\r\n\r\n.Top .shang ul {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-evenly;\r\n  margin-left: -50px;\r\n}\r\n\r\n.Top .shang ul li {\r\n  list-style: none;\r\n}\r\n\r\n.shang {\r\n  /*display: flex;*/\r\n  flex-direction: row;\r\n  justify-content: space-evenly;\r\n  /* position: relative; */\r\n  /* margin-top: 100px; */\r\n  /* top: 20%; */\r\n}\r\n\r\n.header_left {\r\n  float: left;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  margin-left: 10px;\r\n  margin-top: 0px;\r\n}\r\n\r\n.header_right {\r\n  float: right;\r\n  padding: 7px 12px;\r\n  font-size: 12px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}