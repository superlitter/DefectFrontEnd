{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as echarts from \"echarts\";\nexport default {\n  name: \"Contrast.vue\",\n  props: ['chosenDataContrast', 'dataOfCheckContrast', 'typeOfOptionsContrast'],\n\n  data() {\n    return {\n      typeName: [],\n      typeOrder: [],\n      // 来决定画哪几张对比图\n      indexOrder: [],\n      timeData: [],\n      increaseBug: [],\n      shutBug: [],\n      pictureFirst: [],\n      isInclude1: false,\n      indexOrder2: [],\n      peopleData: [],\n      createBug: [],\n      finishBug: [],\n      shutBug2: [],\n      pictureSecond: [],\n      isInclude2: false,\n      indexOrder3: [],\n      countData: [],\n      emergencyBug: [],\n      priorityBug: [],\n      pictureThird: [],\n      isInclude3: false\n    };\n  },\n\n  // 初始化数据\n  created() {\n    let i, j; // 按照后端提供的i，相应地对应报表名称\n\n    for (i = 0; i < this.dataOfCheckContrast.length; i++) {\n      for (j = 0; j < this.typeOfOptionsContrast.length; j++) {\n        if (this.dataOfCheckContrast[i] === this.typeOfOptionsContrast[j].id) {\n          this.typeOrder.push(this.dataOfCheckContrast[i]);\n          this.typeName.push(this.typeOfOptionsContrast[j].name);\n          break;\n        }\n      }\n    }\n\n    if (this.typeOrder.includes(3) && this.typeOrder.includes(4)) {\n      this.isInclude1 = true;\n      this.indexOrder.push(this.typeOrder.indexOf(3));\n      this.indexOrder.push(this.typeOrder.indexOf(4));\n      this.timeData.push('日期');\n\n      for (let i = 0; i < this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.string).length; i++) {\n        this.timeData.push(this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.string)[i]);\n      }\n\n      this.increaseBug.push('每天新增bug数');\n\n      for (let i = 0; i < this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.num).length; i++) {\n        this.increaseBug.push(this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.num)[i]);\n      }\n\n      this.shutBug.push('每日关闭bug数');\n\n      for (let i = 0, j = 0; j < this.chosenDataContrast[this.indexOrder[1]].arr.map(element => element.num).length; i++, j++) {\n        if (this.chosenDataContrast[this.indexOrder[1]].arr.map(element => element.string)[j] === this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.string)[i]) {\n          this.shutBug.push(this.chosenDataContrast[this.indexOrder[1]].arr.map(element => element.num)[j]);\n        } else {\n          this.shutBug.push(0);\n          j = j - 1;\n        }\n      }\n\n      this.pictureFirst.push(this.timeData);\n      this.pictureFirst.push(this.increaseBug);\n      this.pictureFirst.push(this.shutBug);\n    }\n\n    if (this.typeOrder.includes(5) && this.typeOrder.includes(6) && this.typeOrder.includes(7)) {\n      this.isInclude2 = true;\n      this.indexOrder2.push(this.typeOrder.indexOf(5));\n      this.indexOrder2.push(this.typeOrder.indexOf(6));\n      this.indexOrder2.push(this.typeOrder.indexOf(7));\n      this.peopleData.push('成员');\n      this.peopleData.push('高延泽', '蒋浩', '汪锦超', '王熠闻', '杨崇屾', '郑泽毅', '朱安哲');\n      this.createBug.push('每人创建bug数');\n\n      for (let i = 1, j = 0; j < this.peopleData.length - 1; i++, j++) {\n        if (this.chosenDataContrast[this.indexOrder2[0]].arr.map(element => element.string)[j] == null) {\n          for (; j < this.peopleData.length - 1; j++) {\n            this.createBug.push(0);\n          }\n\n          break;\n        }\n\n        if (this.chosenDataContrast[this.indexOrder2[0]].arr.map(element => element.string)[j] === this.peopleData[i]) {\n          this.createBug.push(this.chosenDataContrast[this.indexOrder2[0]].arr.map(element => element.num)[j]);\n        } else {\n          this.createBug.push(0);\n          j = j - 1;\n        }\n      }\n\n      this.finishBug.push('每人完成bug数');\n\n      for (let i = 1, j = 0; j < this.peopleData.length - 1; i++, j++) {\n        if (this.chosenDataContrast[this.indexOrder2[1]].arr.map(element => element.string)[j] == null) {\n          for (; j < this.peopleData.length - 1; j++) {\n            this.finishBug.push(0);\n          }\n\n          break;\n        }\n\n        if (this.chosenDataContrast[this.indexOrder2[1]].arr.map(element => element.string)[j] === this.peopleData[i]) {\n          this.finishBug.push(this.chosenDataContrast[this.indexOrder2[1]].arr.map(element => element.num)[j]);\n        } else {\n          this.finishBug.push(0);\n          j = j - 1;\n        }\n      }\n\n      this.shutBug2.push('每人关闭bug数');\n\n      for (let i = 1, j = 0; j < this.peopleData.length - 1; i++, j++) {\n        if (this.chosenDataContrast[this.indexOrder2[2]].arr.map(element => element.string)[j] == null) {\n          for (; j < this.peopleData.length - 1; j++) {\n            this.shutBug2.push(0);\n          }\n\n          break;\n        }\n\n        if (this.chosenDataContrast[this.indexOrder2[2]].arr.map(element => element.string)[j] === this.peopleData[i]) {\n          this.shutBug2.push(this.chosenDataContrast[this.indexOrder2[2]].arr.map(element => element.num)[j]);\n        } else {\n          this.shutBug2.push(0);\n          j = j - 1;\n        }\n\n        console.log(this.shutBug2);\n      }\n\n      this.pictureSecond.push(this.peopleData);\n      this.pictureSecond.push(this.createBug);\n      this.pictureSecond.push(this.finishBug);\n      this.pictureSecond.push(this.shutBug2);\n    }\n\n    if (this.typeOrder.includes(9) && this.typeOrder.includes(10)) {\n      this.isInclude3 = true;\n      this.indexOrder3.push(this.typeOrder.indexOf(9));\n      this.indexOrder3.push(this.typeOrder.indexOf(10));\n      this.countData.push('类型');\n      this.countData.push('1', '2', '3', '4', '5');\n      this.emergencyBug.push('紧急程度统计bug数');\n\n      for (let i = 1, j = 0; j < this.countData.length - 1; i++, j++) {\n        if (this.chosenDataContrast[this.indexOrder3[0]].arr.map(element => element.string)[j] == null) {\n          for (; j < this.countData.length - 1; j++) {\n            this.emergencyBug.push(0);\n          }\n\n          break;\n        }\n\n        if (this.chosenDataContrast[this.indexOrder3[0]].arr.map(element => element.string)[j] === parseInt(this.countData[i])) {\n          this.emergencyBug.push(this.chosenDataContrast[this.indexOrder3[0]].arr.map(element => element.num)[j]);\n        } else {\n          this.emergencyBug.push(0);\n          j = j - 1;\n        }\n      }\n\n      this.priorityBug.push('优先级统计bug数');\n\n      for (let i = 1, j = 0; j < this.countData.length - 1; i++, j++) {\n        if (this.chosenDataContrast[this.indexOrder3[1]].arr.map(element => element.string)[j] == null) {\n          for (; j < this.countData.length - 1; j++) {\n            this.priorityBug.push(0);\n          }\n\n          break;\n        }\n\n        if (this.chosenDataContrast[this.indexOrder3[1]].arr.map(element => element.string)[j] === parseInt(this.countData[i])) {\n          this.priorityBug.push(this.chosenDataContrast[this.indexOrder3[1]].arr.map(element => element.num)[j]);\n        } else {\n          this.priorityBug.push(0);\n          j = j - 1;\n        }\n      }\n\n      this.pictureThird.push(this.countData);\n      this.pictureThird.push(this.emergencyBug);\n      this.pictureThird.push(this.priorityBug);\n    }\n  },\n\n  // 向后端发起请求，拿到数据后做一些业务处理\n  mounted() {\n    this.$nextTick(() => {\n      this.initEcharts1();\n    });\n    this.$nextTick(() => {\n      this.initEcharts2();\n    });\n    this.$nextTick(() => {\n      this.initEcharts3();\n    });\n  },\n\n  methods: {\n    initEcharts1() {\n      let myChart = echarts.init(document.getElementById('chartContrast1'));\n\n      let _this = this;\n\n      setTimeout(function () {\n        let option = {\n          title: {\n            text: '每日新增、关闭bug数对比图',\n            left: '50%',\n            textAlign: 'center'\n          },\n          legend: {\n            orient: 'vertical',\n            left: 'left'\n          },\n          tooltip: {\n            trigger: 'axis',\n            showContent: true\n          },\n          dataset: {\n            source: _this.pictureFirst\n          },\n          xAxis: {\n            type: 'category'\n          },\n          yAxis: {\n            gridIndex: 0\n          },\n          grid: {\n            top: '50%'\n          },\n          series: [{\n            type: 'line',\n            smooth: true,\n            seriesLayoutBy: 'row',\n            emphasis: {\n              focus: 'series'\n            }\n          }, {\n            type: 'line',\n            smooth: true,\n            seriesLayoutBy: 'row',\n            emphasis: {\n              focus: 'series'\n            }\n          }, {\n            type: 'pie',\n            id: 'pie',\n            radius: '30%',\n            center: ['50%', '25%'],\n            emphasis: {\n              focus: 'self'\n            },\n            encode: {\n              itemName: _this.timeData[0],\n              value: _this.timeData[1],\n              tooltip: _this.timeData[1]\n            }\n          }]\n        };\n        myChart.on('updateAxisPointer', function (event) {\n          const xAxisInfo = event.axesInfo[0];\n\n          if (xAxisInfo) {\n            const dimension = xAxisInfo.value + 1;\n            myChart.setOption({\n              series: {\n                id: 'pie',\n                label: {\n                  formatter: '{b}: {@[' + dimension + ']} ({d}%)'\n                },\n                encode: {\n                  value: dimension,\n                  tooltip: dimension\n                }\n              }\n            });\n          }\n        });\n        myChart.setOption(option);\n      });\n    },\n\n    initEcharts2() {\n      let myChart = echarts.init(document.getElementById('chartContrast2'));\n\n      let _this = this;\n\n      setTimeout(function () {\n        let option = {\n          title: {\n            text: '每成员创建、完成、关闭的bug数对比图',\n            left: '50%',\n            textAlign: 'center'\n          },\n          legend: {\n            orient: 'vertical',\n            left: 'left'\n          },\n          tooltip: {\n            trigger: 'axis',\n            showContent: true\n          },\n          dataset: {\n            source: _this.pictureSecond\n          },\n          xAxis: {\n            type: 'category'\n          },\n          yAxis: {\n            gridIndex: 0\n          },\n          grid: {\n            top: '50%'\n          },\n          series: [{\n            type: 'line',\n            smooth: true,\n            seriesLayoutBy: 'row',\n            emphasis: {\n              focus: 'series'\n            }\n          }, {\n            type: 'line',\n            smooth: true,\n            seriesLayoutBy: 'row',\n            emphasis: {\n              focus: 'series'\n            }\n          }, {\n            type: 'line',\n            smooth: true,\n            seriesLayoutBy: 'row',\n            emphasis: {\n              focus: 'series'\n            }\n          }, {\n            type: 'pie',\n            id: 'pie',\n            radius: '30%',\n            center: ['50%', '25%'],\n            emphasis: {\n              focus: 'self'\n            },\n            encode: {\n              itemName: _this.peopleData[0],\n              value: _this.peopleData[1],\n              tooltip: _this.peopleData[1]\n            }\n          }]\n        };\n        myChart.on('updateAxisPointer', function (event) {\n          const xAxisInfo = event.axesInfo[0];\n\n          if (xAxisInfo) {\n            const dimension = xAxisInfo.value + 1;\n            myChart.setOption({\n              series: {\n                id: 'pie',\n                label: {\n                  formatter: '{b}: {@[' + dimension + ']} ({d}%)'\n                },\n                encode: {\n                  value: dimension,\n                  tooltip: dimension\n                }\n              }\n            });\n          }\n        });\n        myChart.setOption(option);\n      });\n    },\n\n    initEcharts3() {\n      let myChart = echarts.init(document.getElementById('chartContrast3'));\n\n      let _this = this;\n\n      setTimeout(function () {\n        let option = {\n          title: {\n            text: '按紧急程度、优先级统计bug数对比图',\n            left: '50%',\n            textAlign: 'center'\n          },\n          legend: {\n            orient: 'vertical',\n            left: 'left'\n          },\n          tooltip: {\n            trigger: 'axis',\n            showContent: true\n          },\n          dataset: {\n            source: _this.pictureThird\n          },\n          xAxis: {\n            type: 'category'\n          },\n          yAxis: {\n            gridIndex: 0\n          },\n          grid: {\n            top: '50%'\n          },\n          series: [{\n            type: 'line',\n            smooth: true,\n            seriesLayoutBy: 'row',\n            emphasis: {\n              focus: 'series'\n            }\n          }, {\n            type: 'line',\n            smooth: true,\n            seriesLayoutBy: 'row',\n            emphasis: {\n              focus: 'series'\n            }\n          }, {\n            type: 'pie',\n            id: 'pie',\n            radius: '30%',\n            center: ['50%', '25%'],\n            emphasis: {\n              focus: 'self'\n            },\n            encode: {\n              itemName: _this.countData[0],\n              value: _this.countData[1],\n              tooltip: _this.countData[1]\n            }\n          }]\n        };\n        myChart.on('updateAxisPointer', function (event) {\n          const xAxisInfo = event.axesInfo[0];\n\n          if (xAxisInfo) {\n            const dimension = xAxisInfo.value + 1;\n            myChart.setOption({\n              series: {\n                id: 'pie',\n                label: {\n                  formatter: '{b}: {@[' + dimension + ']} ({d}%)'\n                },\n                encode: {\n                  value: dimension,\n                  tooltip: dimension\n                }\n              }\n            });\n          }\n        });\n        myChart.setOption(option);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AAEA;EACAA,oBADA;EAEAC,6EAFA;;EAGAC;IACA;MACAC,YADA;MAEAC,aAFA;MAEA;MACAC,cAHA;MAIAC,YAJA;MAKAC,eALA;MAMAC,WANA;MAOAC,gBAPA;MAQAC,iBARA;MASAC,eATA;MAUAC,cAVA;MAWAC,aAXA;MAYAC,aAZA;MAaAC,YAbA;MAcAC,iBAdA;MAeAC,iBAfA;MAgBAC,eAhBA;MAiBAC,aAjBA;MAkBAC,gBAlBA;MAmBAC,eAnBA;MAoBAC,gBApBA;MAqBAC;IArBA;EAuBA,CA3BA;;EA4BA;EACAC;IACA,SADA,CAEA;;IACA;MACA;QACA;UACA;UACA;UACA;QACA;MACA;IACA;;IACA;MACA;MACA;MACA;MACA;;MAEA;QACA;MACA;;MACA;;MACA;QACA;MACA;;MACA;;MACA;QACA;UACA;QACA,CAFA,MAGA;UACA;UACAC;QACA;MACA;;MACA;MACA;MACA;IACA;;IACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;;MACA;QACA;UACA;YACA;UACA;;UACA;QACA;;QACA;UACA;QACA,CAFA,MAGA;UACA;UACAA;QACA;MACA;;MAEA;;MACA;QACA;UACA;YACA;UACA;;UACA;QACA;;QACA;UACA;QACA,CAFA,MAGA;UACA;UACAA;QACA;MACA;;MACA;;MACA;QACA;UACA;YACA;UACA;;UACA;QACA;;QACA;UACA;QACA,CAFA,MAGA;UACA;UACAA;QACA;;QACAC;MACA;;MACA;MACA;MACA;MACA;IACA;;IACA;MACA;MACA;MACA;MACA;MACA;MAEA;;MACA;QACA;UACA;YACA;UACA;;UACA;QACA;;QACA;UACA;QACA,CAFA,MAGA;UACA;UACAD;QACA;MACA;;MAEA;;MACA;QAEA;UACA;YACA;UACA;;UACA;QACA;;QACA;UACA;QACA,CAFA,MAIA;UACA;UACAA;QACA;MACA;;MAEA;MACA;MACA;IACA;EACA,CAlLA;;EAmLA;EACAE;IACA;MACA;IACA,CAFA;IAGA;MACA;IACA,CAFA;IAGA;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","names":["name","props","data","typeName","typeOrder","indexOrder","timeData","increaseBug","shutBug","pictureFirst","isInclude1","indexOrder2","peopleData","createBug","finishBug","shutBug2","pictureSecond","isInclude2","indexOrder3","countData","emergencyBug","priorityBug","pictureThird","isInclude3","created","j","console","mounted","methods","initEcharts1","setTimeout","title","text","left","textAlign","legend","orient","tooltip","trigger","showContent","dataset","source","xAxis","type","yAxis","gridIndex","grid","top","series","smooth","seriesLayoutBy","emphasis","focus","id","radius","center","encode","itemName","value","myChart","label","formatter","initEcharts2","initEcharts3"],"sourceRoot":"src/components","sources":["Contrast.vue"],"sourcesContent":["<template>\r\n  <el-container>\r\n    <el-main>\r\n      <div v-if=\"isInclude1 === true\" class=\"floatFrame\">\r\n        <span class=\"s-1\" />\r\n        <span class=\"s-2\" />\r\n        <span class=\"s-3\" />\r\n        <span class=\"s-4\" />\r\n        <div id=\"chartContrast1\" :style=\"{width: '880px', height: '500px',fontSize:'25px', margin:'60px 0px 0px 100px', top:'25px'}\"></div>\r\n        <div :style=\"{margin:'60px 0px 0px 300px'}\"></div>\r\n      </div>\r\n      <div v-if=\"isInclude2 === true\" class=\"floatFrame\">\r\n        <span class=\"s-1\" />\r\n        <span class=\"s-2\" />\r\n        <span class=\"s-3\" />\r\n        <span class=\"s-4\" />\r\n        <div id=\"chartContrast2\" :style=\"{width: '880px', height: '500px',fontSize:'25px', margin:'60px 0px 0px 100px', top:'25px'}\"></div>\r\n        <div :style=\"{margin:'60px 0px 0px 300px'}\"></div>\r\n      </div>\r\n      <div v-if=\"isInclude3 === true\" class=\"floatFrame\">\r\n        <span class=\"s-1\" />\r\n        <span class=\"s-2\" />\r\n        <span class=\"s-3\" />\r\n        <span class=\"s-4\" />\r\n        <div id=\"chartContrast3\" :style=\"{width: '880px', height: '500px',fontSize:'25px', margin:'60px 0px 0px 100px', top:'25px'}\"></div>\r\n        <div :style=\"{margin:'60px 0px 0px 300px'}\"></div>\r\n      </div>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from \"echarts\";\r\n\r\nexport default {\r\n  name: \"Contrast.vue\",\r\n  props: ['chosenDataContrast','dataOfCheckContrast', 'typeOfOptionsContrast'],\r\n  data(){\r\n    return {\r\n      typeName: [],\r\n      typeOrder: [],  // 来决定画哪几张对比图\r\n      indexOrder: [],\r\n      timeData: [],\r\n      increaseBug: [],\r\n      shutBug: [],\r\n      pictureFirst: [],\r\n      isInclude1: false,\r\n      indexOrder2: [],\r\n      peopleData: [],\r\n      createBug: [],\r\n      finishBug: [],\r\n      shutBug2: [],\r\n      pictureSecond: [],\r\n      isInclude2: false,\r\n      indexOrder3: [],\r\n      countData: [],\r\n      emergencyBug: [],\r\n      priorityBug: [],\r\n      pictureThird: [],\r\n      isInclude3: false\r\n    }\r\n  },\r\n  // 初始化数据\r\n  created() {\r\n    let i, j;\r\n    // 按照后端提供的i，相应地对应报表名称\r\n    for(i=0;i<this.dataOfCheckContrast.length;i++){\r\n      for(j=0;j<this.typeOfOptionsContrast.length;j++){\r\n        if(this.dataOfCheckContrast[i] === this.typeOfOptionsContrast[j].id){\r\n          this.typeOrder.push(this.dataOfCheckContrast[i]);\r\n          this.typeName.push(this.typeOfOptionsContrast[j].name);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    if(this.typeOrder.includes(3) && this.typeOrder.includes(4)){\r\n      this.isInclude1 = true;\r\n      this.indexOrder.push(this.typeOrder.indexOf(3));\r\n      this.indexOrder.push(this.typeOrder.indexOf(4));\r\n      this.timeData.push('日期');\r\n\r\n      for(let i=0;i<this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.string).length;i++){\r\n        this.timeData.push(this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.string)[i]);\r\n      }\r\n      this.increaseBug.push('每天新增bug数');\r\n      for(let i=0;i<this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.num).length;i++){\r\n        this.increaseBug.push(this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.num)[i]);\r\n      }\r\n      this.shutBug.push('每日关闭bug数');\r\n      for(let i=0,j=0;j<this.chosenDataContrast[this.indexOrder[1]].arr.map(element => element.num).length;i++,j++){\r\n        if(this.chosenDataContrast[this.indexOrder[1]].arr.map(element => element.string)[j] === this.chosenDataContrast[this.indexOrder[0]].arr.map(element => element.string)[i]){\r\n          this.shutBug.push(this.chosenDataContrast[this.indexOrder[1]].arr.map(element => element.num)[j]);\r\n        }\r\n        else{\r\n          this.shutBug.push(0);\r\n          j = j - 1;\r\n        }\r\n      }\r\n      this.pictureFirst.push(this.timeData);\r\n      this.pictureFirst.push(this.increaseBug);\r\n      this.pictureFirst.push(this.shutBug);\r\n    }\r\n    if(this.typeOrder.includes(5) && this.typeOrder.includes(6) && this.typeOrder.includes(7)){\r\n      this.isInclude2 = true;\r\n      this.indexOrder2.push(this.typeOrder.indexOf(5));\r\n      this.indexOrder2.push(this.typeOrder.indexOf(6));\r\n      this.indexOrder2.push(this.typeOrder.indexOf(7));\r\n      this.peopleData.push('成员');\r\n      this.peopleData.push('高延泽','蒋浩','汪锦超','王熠闻','杨崇屾','郑泽毅','朱安哲');\r\n\r\n      this.createBug.push('每人创建bug数');\r\n      for(let i=1,j=0;j<this.peopleData.length - 1;i++,j++){\r\n        if(this.chosenDataContrast[this.indexOrder2[0]].arr.map(element => element.string)[j] == null){\r\n          for(;j<this.peopleData.length - 1;j++){\r\n            this.createBug.push(0);\r\n          }\r\n          break;\r\n        }\r\n        if(this.chosenDataContrast[this.indexOrder2[0]].arr.map(element => element.string)[j] === this.peopleData[i]){\r\n          this.createBug.push(this.chosenDataContrast[this.indexOrder2[0]].arr.map(element => element.num)[j]);\r\n        }\r\n        else{\r\n          this.createBug.push(0);\r\n          j = j - 1;\r\n        }\r\n      }\r\n\r\n      this.finishBug.push('每人完成bug数');\r\n      for(let i=1, j=0;j<this.peopleData.length - 1;i++,j++){\r\n        if(this.chosenDataContrast[this.indexOrder2[1]].arr.map(element => element.string)[j] == null){\r\n          for(;j<this.peopleData.length - 1;j++){\r\n            this.finishBug.push(0);\r\n          }\r\n          break;\r\n        }\r\n        if(this.chosenDataContrast[this.indexOrder2[1]].arr.map(element => element.string)[j] === this.peopleData[i]){\r\n          this.finishBug.push(this.chosenDataContrast[this.indexOrder2[1]].arr.map(element => element.num)[j]);\r\n        }\r\n        else{\r\n          this.finishBug.push(0);\r\n          j = j - 1;\r\n        }\r\n      }\r\n      this.shutBug2.push('每人关闭bug数');\r\n      for(let i=1, j=0;j<this.peopleData.length - 1;i++,j++){\r\n        if(this.chosenDataContrast[this.indexOrder2[2]].arr.map(element => element.string)[j] == null){\r\n          for(;j<this.peopleData.length - 1;j++){\r\n            this.shutBug2.push(0);\r\n          }\r\n          break;\r\n        }\r\n        if(this.chosenDataContrast[this.indexOrder2[2]].arr.map(element => element.string)[j] === this.peopleData[i]){\r\n          this.shutBug2.push(this.chosenDataContrast[this.indexOrder2[2]].arr.map(element => element.num)[j]);\r\n        }\r\n        else{\r\n          this.shutBug2.push(0);\r\n          j = j - 1;\r\n        }\r\n        console.log(this.shutBug2);\r\n      }\r\n      this.pictureSecond.push(this.peopleData);\r\n      this.pictureSecond.push(this.createBug);\r\n      this.pictureSecond.push(this.finishBug);\r\n      this.pictureSecond.push(this.shutBug2);\r\n    }\r\n    if(this.typeOrder.includes(9) && this.typeOrder.includes(10)){\r\n      this.isInclude3 = true;\r\n      this.indexOrder3.push(this.typeOrder.indexOf(9));\r\n      this.indexOrder3.push(this.typeOrder.indexOf(10));\r\n      this.countData.push('类型');\r\n      this.countData.push('1','2','3','4','5');\r\n\r\n      this.emergencyBug.push('紧急程度统计bug数');\r\n      for(let i=1,j=0;j<this.countData.length - 1;i++,j++){\r\n        if(this.chosenDataContrast[this.indexOrder3[0]].arr.map(element => element.string)[j] == null){\r\n          for(;j<this.countData.length - 1;j++){\r\n            this.emergencyBug.push(0);\r\n          }\r\n          break;\r\n        }\r\n        if(this.chosenDataContrast[this.indexOrder3[0]].arr.map(element => element.string)[j] === parseInt(this.countData[i])){\r\n          this.emergencyBug.push(this.chosenDataContrast[this.indexOrder3[0]].arr.map(element => element.num)[j]);\r\n        }\r\n        else{\r\n          this.emergencyBug.push(0);\r\n          j = j - 1;\r\n        }\r\n      }\r\n\r\n      this.priorityBug.push('优先级统计bug数');\r\n      for(let i=1, j=0;j<this.countData.length - 1;i++,j++){\r\n\r\n        if(this.chosenDataContrast[this.indexOrder3[1]].arr.map(element => element.string)[j] == null) {\r\n          for (; j < this.countData.length - 1; j++) {\r\n            this.priorityBug.push(0);\r\n          }\r\n          break;\r\n        }\r\n        if(this.chosenDataContrast[this.indexOrder3[1]].arr.map(element => element.string)[j] === parseInt(this.countData[i])){\r\n          this.priorityBug.push(this.chosenDataContrast[this.indexOrder3[1]].arr.map(element => element.num)[j]);\r\n        }\r\n\r\n        else{\r\n          this.priorityBug.push(0);\r\n          j = j - 1;\r\n        }\r\n      }\r\n\r\n      this.pictureThird.push(this.countData);\r\n      this.pictureThird.push(this.emergencyBug);\r\n      this.pictureThird.push(this.priorityBug);\r\n    }\r\n  },\r\n  // 向后端发起请求，拿到数据后做一些业务处理\r\n  mounted () {\r\n    this.$nextTick(()=>{\r\n      this.initEcharts1();\r\n    })\r\n    this.$nextTick(()=>{\r\n      this.initEcharts2();\r\n    })\r\n    this.$nextTick(()=>{\r\n      this.initEcharts3();\r\n    })\r\n  },\r\n  methods:{\r\n    initEcharts1(){\r\n      let myChart = echarts.init(document.getElementById('chartContrast1'));\r\n      let _this = this;\r\n      setTimeout(function () {\r\n        let option = {\r\n          title: {\r\n            text: '每日新增、关闭bug数对比图',\r\n            left: '50%',\r\n            textAlign: 'center'\r\n          },\r\n          legend: {\r\n            orient: 'vertical',\r\n            left: 'left'\r\n          },\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            showContent: true\r\n          },\r\n          dataset: {\r\n            source: _this.pictureFirst,\r\n          },\r\n          xAxis: {type: 'category'},\r\n          yAxis: {gridIndex: 0},\r\n          grid: {top: '50%'},\r\n          series: [\r\n            {\r\n              type: 'line',\r\n              smooth: true,\r\n              seriesLayoutBy: 'row',\r\n              emphasis: {focus: 'series'}\r\n            },\r\n            {\r\n              type: 'line',\r\n              smooth: true,\r\n              seriesLayoutBy: 'row',\r\n              emphasis: {focus: 'series'}\r\n            },\r\n            {\r\n              type: 'pie',\r\n              id: 'pie',\r\n              radius: '30%',\r\n              center: ['50%', '25%'],\r\n              emphasis: {\r\n                focus: 'self'\r\n              },\r\n              encode: {\r\n                itemName: _this.timeData[0],\r\n                value: _this.timeData[1],\r\n                tooltip: _this.timeData[1]\r\n              }\r\n            }\r\n          ]\r\n        };\r\n        myChart.on('updateAxisPointer', function (event) {\r\n            const xAxisInfo = event.axesInfo[0];\r\n            if (xAxisInfo) {\r\n              const dimension = xAxisInfo.value + 1;\r\n              myChart.setOption({\r\n                series: {\r\n                  id: 'pie',\r\n                  label: {\r\n                    formatter: '{b}: {@[' + dimension + ']} ({d}%)'\r\n                  },\r\n                  encode: {\r\n                    value: dimension,\r\n                    tooltip: dimension\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          });\r\n          myChart.setOption(option);\r\n      })\r\n    },\r\n\r\n    initEcharts2(){\r\n      let myChart = echarts.init(document.getElementById('chartContrast2'));\r\n      let _this = this;\r\n      setTimeout(function () {\r\n        let option = {\r\n          title: {\r\n            text: '每成员创建、完成、关闭的bug数对比图',\r\n            left: '50%',\r\n            textAlign: 'center'\r\n          },\r\n          legend: {\r\n            orient: 'vertical',\r\n            left: 'left'\r\n          },\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            showContent: true\r\n          },\r\n          dataset: {\r\n            source: _this.pictureSecond,\r\n          },\r\n          xAxis: {type: 'category'},\r\n          yAxis: {gridIndex: 0},\r\n          grid: {top: '50%'},\r\n          series: [\r\n            {\r\n              type: 'line',\r\n              smooth: true,\r\n              seriesLayoutBy: 'row',\r\n              emphasis: {focus: 'series'}\r\n            },\r\n            {\r\n              type: 'line',\r\n              smooth: true,\r\n              seriesLayoutBy: 'row',\r\n              emphasis: {focus: 'series'}\r\n            },\r\n            {\r\n              type: 'line',\r\n              smooth: true,\r\n              seriesLayoutBy: 'row',\r\n              emphasis: {focus: 'series'}\r\n            },\r\n            {\r\n              type: 'pie',\r\n              id: 'pie',\r\n              radius: '30%',\r\n              center: ['50%', '25%'],\r\n              emphasis: {\r\n                focus: 'self'\r\n              },\r\n              encode: {\r\n                itemName: _this.peopleData[0],\r\n                value: _this.peopleData[1],\r\n                tooltip: _this.peopleData[1]\r\n              }\r\n            }\r\n          ]\r\n        };\r\n        myChart.on('updateAxisPointer', function (event) {\r\n          const xAxisInfo = event.axesInfo[0];\r\n          if (xAxisInfo) {\r\n            const dimension = xAxisInfo.value + 1;\r\n            myChart.setOption({\r\n              series: {\r\n                id: 'pie',\r\n                label: {\r\n                  formatter: '{b}: {@[' + dimension + ']} ({d}%)'\r\n                },\r\n                encode: {\r\n                  value: dimension,\r\n                  tooltip: dimension\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n        myChart.setOption(option);\r\n      })\r\n    },\r\n\r\n    initEcharts3() {\r\n      let myChart = echarts.init(document.getElementById('chartContrast3'));\r\n      let _this = this;\r\n      setTimeout(function () {\r\n        let option = {\r\n          title: {\r\n            text: '按紧急程度、优先级统计bug数对比图',\r\n            left: '50%',\r\n            textAlign: 'center'\r\n          },\r\n          legend: {\r\n            orient: 'vertical',\r\n            left: 'left'\r\n          },\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            showContent: true\r\n          },\r\n          dataset: {\r\n            source: _this.pictureThird,\r\n          },\r\n          xAxis: {type: 'category'},\r\n          yAxis: {gridIndex: 0},\r\n          grid: {top: '50%'},\r\n          series: [\r\n            {\r\n              type: 'line',\r\n              smooth: true,\r\n              seriesLayoutBy: 'row',\r\n              emphasis: {focus: 'series'}\r\n            },\r\n            {\r\n              type: 'line',\r\n              smooth: true,\r\n              seriesLayoutBy: 'row',\r\n              emphasis: {focus: 'series'}\r\n            },\r\n            {\r\n              type: 'pie',\r\n              id: 'pie',\r\n              radius: '30%',\r\n              center: ['50%', '25%'],\r\n              emphasis: {\r\n                focus: 'self'\r\n              },\r\n              encode: {\r\n                itemName: _this.countData[0],\r\n                value: _this.countData[1],\r\n                tooltip: _this.countData[1]\r\n              }\r\n            }\r\n          ]\r\n        };\r\n        myChart.on('updateAxisPointer', function (event) {\r\n          const xAxisInfo = event.axesInfo[0];\r\n          if (xAxisInfo) {\r\n            const dimension = xAxisInfo.value + 1;\r\n            myChart.setOption({\r\n              series: {\r\n                id: 'pie',\r\n                label: {\r\n                  formatter: '{b}: {@[' + dimension + ']} ({d}%)'\r\n                },\r\n                encode: {\r\n                  value: dimension,\r\n                  tooltip: dimension\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n        myChart.setOption(option);\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n/deep/.el-card__body, .el-main{\r\n  padding: 10px;\r\n}\r\n\r\n.floatFrame {\r\n  overflow: hidden;\r\n  position: relative;\r\n  border: 1px solid rgba(11, 85, 140, 0.5);\r\n}\r\nspan {\r\n  position: absolute;\r\n  display: block;\r\n}\r\n.s-1 {\r\n  filter: hue-rotate(0deg);\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 3px;\r\n  background: linear-gradient(90deg, transparent, #3a86ff);\r\n  animation: animate1 4s linear infinite;\r\n}\r\n.s-2 {\r\n  filter: hue-rotate(60deg);\r\n  top: -100%;\r\n  right: 0;\r\n  width: 3px;\r\n  height: 100%;\r\n  background: linear-gradient(180deg, transparent, #3a86ff);\r\n  animation: animate2 4s linear infinite;\r\n  animation-delay: 1s;\r\n}\r\n.s-3 {\r\n  filter: hue-rotate(120deg);\r\n  bottom: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  background: linear-gradient(270deg, transparent, #3a86ff);\r\n  animation: animate3 4s linear infinite;\r\n  animation-delay: 2s;\r\n}\r\n.s-4 {\r\n  filter: hue-rotate(300deg);\r\n  bottom: -100%;\r\n  left: 0;\r\n  width: 3px;\r\n  height: 100%;\r\n  background: linear-gradient(360deg, transparent, #3a86ff);\r\n  animation: animate4 4s linear infinite;\r\n  animation-delay: 3s;\r\n}\r\n@keyframes animate1 {\r\n  0% {\r\n    left: -100%;\r\n  }\r\n  50%,\r\n  100% {\r\n    left: 100%;\r\n  }\r\n}\r\n@keyframes animate2 {\r\n  0% {\r\n    top: -100%;\r\n  }\r\n  50%,\r\n  100% {\r\n    top: 100%;\r\n  }\r\n}\r\n@keyframes animate3 {\r\n  0% {\r\n    right: -100%;\r\n    height: 3px;\r\n  }\r\n  50%,\r\n  100% {\r\n    height: 2px;\r\n    right: 100%;\r\n  }\r\n}\r\n@keyframes animate4 {\r\n  0% {\r\n    bottom: -100%;\r\n  }\r\n  50%,\r\n  100% {\r\n    bottom: 100%;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}